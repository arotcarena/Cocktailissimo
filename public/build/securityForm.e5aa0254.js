/*! For license information please see securityForm.e5aa0254.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[6754],{81433:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(87536),a=r(2305),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,n.cI)({defaultValues:t,mode:"onTouched",resolver:(0,a.X)(e)}),o=r.register,i=r.handleSubmit,l=r.setValue,s=r.getValues,c=r.watch,u=r.setError,f=r.clearErrors,m=r.reset,d=r.control,p=r.formState;return{register:o,handleSubmit:i,errors:p.errors,setError:u,clearErrors:f,isSubmitting:p.isSubmitting,setValue:l,getValues:s,watch:c,control:d,reset:m}}},83076:(e,t,r)=>{"use strict";r.d(t,{s:()=>i});r(79753),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(57658),r(47042),r(68309),r(91038),r(74916),r(77601),r(21703),r(96647);var n=r(67294);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=a((0,n.useState)(!1),2),o=r[0],i=r[1];(0,n.useEffect)((function(){""!==e&&null!=e||i(!0)}),[]);return[o,function(e){o&&i(!1)},function(e){t&&t(),""===e.target.value&&i(!0)}]}},21344:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});r(47941),r(82772),r(82526),r(19601),r(24812);var n=r(67294),a=r(76014),o=["children","additionalClass","disabled","loading"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=function(e){var t=e.children,r=e.additionalClass,s=e.disabled,c=void 0!==s&&s,u=e.loading,f=l(e,o);return n.createElement("button",i({type:"submit",className:"form-button"+(r?" "+r:"")+(u||c?" disabled":""),disabled:c||u},f),u?n.createElement(a.a,null):n.createElement("span",null,t))}},52264:(e,t,r)=>{"use strict";r.d(t,{X:()=>m,n:()=>f});r(47941),r(82772),r(82526),r(79753),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(57658),r(47042),r(91038),r(74916),r(77601),r(21703),r(96647),r(24812),r(68309),r(19601);var n=r(67294),a=r(87536),o=r(83076),i=["children","control","name","error","additionalClass","type"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var f=function(e){var t=e.children,r=e.control,c=e.name,f=e.error,m=e.additionalClass,d=void 0===m?"":m,p=e.type,h=void 0===p?"text":p,v=u(e,i),y=(0,a.bc)({name:c,control:r}).field,g=s((0,o.s)(y.value,y.onBlur),3),b=g[0],w=g[1],x=g[2];return n.createElement("div",{className:"form-group"+(f?" is-invalid":"")+(d?" "+d+"-group":"")+("textarea"===h?" textarea":"")},n.createElement("div",{className:"input-wrapper "+y.name+(b?" down":"")+("textarea"===h?" textarea":"")},n.createElement("label",{className:"form-label",htmlFor:y.name},t),"textarea"===h?n.createElement("textarea",l({ref:y.ref,onChange:y.onChange,value:y.value,name:y.name,onBlur:x,onFocus:w,className:"form-control"+(d?" "+d:""),id:y.name},v)):n.createElement("input",l({ref:y.ref,onChange:y.onChange,value:y.value,name:y.name,onBlur:x,onFocus:w,type:h,className:"form-control"+(d?" "+d:""),id:y.name},v))),f&&n.createElement("div",{className:"form-error"},f))},m=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return n.createElement("div",{className:"box-form"},n.createElement(f,l({type:"textarea"},t)))}},60979:(e,t,r)=>{"use strict";r.d(t,{n:()=>l});r(47941),r(82772),r(82526),r(19601),r(24812);var n=r(67294),a=["additionalClass"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=function(e){var t=e.additionalClass,r=i(e,a);return n.createElement("svg",o({className:"icon check-icon"+(t?" "+t:"")},r,{enableBackground:"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"}),n.createElement("g",null,n.createElement("path",{fill:"currentColor",d:"m222.15 427.05c-.06 0-.13 0-.19 0-2.48-.05-4.82-1.11-6.5-2.93l-171.46-186.44c-2.94-3.2-3.21-8.02-.64-11.53 2.57-3.5 7.25-4.7 11.19-2.86l156.93 73.48c1.32.62 2.88.32 3.89-.73l239.38-250.19c3.24-3.39 8.54-3.76 12.22-.84s4.53 8.16 1.96 12.09l-238.12 364.78c-.34.53-.74 1.01-1.18 1.46l-1.05 1.05c-1.71 1.7-4.03 2.66-6.43 2.66z"})))}},64420:(e,t,r)=>{"use strict";r.d(t,{t:()=>l});r(47941),r(82772),r(82526),r(19601),r(24812);var n=r(67294),a=["additionalClass"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=function(e){var t=e.additionalClass,r=i(e,a);return n.createElement("svg",o({className:"icon i-eye"+(t?" "+t:""),"aria-label":"open eye"},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960"}),n.createElement("path",{fill:"currentColor",d:"M480.118-330Q551-330 600.5-379.618q49.5-49.617 49.5-120.5Q650-571 600.382-620.5q-49.617-49.5-120.5-49.5Q409-670 359.5-620.382q-49.5 49.617-49.5 120.5Q310-429 359.618-379.5q49.617 49.5 120.5 49.5Zm-.353-58Q433-388 400.5-420.735q-32.5-32.736-32.5-79.5Q368-547 400.735-579.5q32.736-32.5 79.5-32.5Q527-612 559.5-579.265q32.5 32.736 32.5 79.5Q592-453 559.265-420.5q-32.736 32.5-79.5 32.5ZM480-200q-146 0-264-83T40-500q58-134 176-217t264-83q146 0 264 83t176 217q-58 134-176 217t-264 83Zm0-300Zm-.169 240Q601-260 702.5-325.5 804-391 857-500q-53-109-154.331-174.5-101.332-65.5-222.5-65.5Q359-740 257.5-674.5 156-609 102-500q54 109 155.331 174.5 101.332 65.5 222.5 65.5Z"}))}},96229:(e,t,r)=>{"use strict";var n=r(20745),a=(r(74916),r(15306),r(79753),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(57658),r(47042),r(68309),r(91038),r(77601),r(21703),r(96647),r(67294)),o=r(16310),i=r(60979),l=r(81433),s=r(52264),c=(r(47941),r(82772),r(19601),r(24812),r(64420)),u=["additionalClass"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var d=function(e){var t=e.additionalClass,r=m(e,u);return a.createElement("svg",f({className:"icon i-eye-off"+(t?" "+t:""),"aria-label":"close eye"},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960"}),a.createElement("path",{fill:"currentColor",d:"m629-419-44-44q26-71-27-118t-115-24l-44-44q17-11 38-16t43-5q71 0 120.5 49.5T650-500q0 22-5.5 43.5T629-419Zm129 129-40-40q49-36 85.5-80.5T857-500q-50-111-150-175.5T490-740q-42 0-86 8t-69 19l-46-47q35-16 89.5-28T485-800q143 0 261.5 81.5T920-500q-26 64-67 117t-95 93Zm58 226L648-229q-35 14-79 21.5t-89 7.5q-146 0-265-81.5T40-500q20-52 55.5-101.5T182-696L56-822l42-43 757 757-39 44ZM223-654q-37 27-71.5 71T102-500q51 111 153.5 175.5T488-260q33 0 65-4t48-12l-64-64q-11 5-27 7.5t-30 2.5q-70 0-120-49t-50-121q0-15 2.5-30t7.5-27l-97-97Zm305 142Zm-116 58Z"}))},p=r(83076),h=r(87536),v=r(91072),y=["children","control","name","error","additionalClass"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var E=function(e){var t=e.children,r=e.control,n=e.name,o=e.error,i=e.additionalClass,l=void 0===i?"":i,s=x(e,y),u=(0,v.$G)("messages").t,f=(0,h.bc)({name:n,control:r}).field,m=b((0,p.s)(f.value,f.onBlur),3),w=m[0],E=m[1],O=m[2],j=b((0,a.useState)("password"),2),S=j[0],k=j[1],N=u("password"===S?"show_password":"hide_password");return a.createElement("div",{className:"form-group"+(o?" is-invalid":"")},a.createElement("div",{className:"input-wrapper "+f.name+(w?" down":"")},a.createElement("label",{className:"form-label",htmlFor:f.name},t),a.createElement("input",g({ref:f.ref,onChange:f.onChange,value:f.value,name:f.name,onBlur:O,onFocus:E,type:S,className:"form-control ".concat(l),id:f.name},s)),a.createElement("button",{type:"button",className:"input-icon",onClick:function(e){e.preventDefault(),k((function(e){return"password"===e?"text":"password"}))},"aria-label":N,title:N},"password"===S?a.createElement(c.t,null):a.createElement(d,null))),o&&a.createElement("div",{className:"form-error"},o))},O=r(21344),j=r(36609);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N=o.Ry({email:o.Z_().required((0,j.t)("assert.notBlank.email",{ns:"constraints"})),password:o.Z_().required((0,j.t)("assert.notBlank.password",{ns:"constraints"}))}).required(),_=function(e){var t,r,n=e.lastUsername,o=e.csrfToken,c=(0,v.$G)("messages").t,u=(0,a.useRef)(null),f=S((0,a.useState)(!1),2),m=f[0],d=f[1],p=(0,l.U)(N,{email:null!=n?n:"",password:""}),h=p.handleSubmit,y=p.errors,g=p.isSubmitting,b=p.control;return a.createElement("form",{className:"security-form",ref:u,method:"post",action:c("url.security.login",{ns:"urls"}),onSubmit:h((function(){m||(u.current.submit(),d(!0))}))},a.createElement(s.n,{control:b,name:"email",error:null===(t=y.email)||void 0===t?void 0:t.message,maxLength:200},c("email_address")," *"),a.createElement(E,{control:b,name:"password",error:null===(r=y.password)||void 0===r?void 0:r.message,maxLength:200},c("password")," *"),a.createElement("div",{className:"link-group"},a.createElement("a",{className:"form-link",href:c("url.security.ask_reset_password",{ns:"urls"})},c("ask.forgotten_password"))),a.createElement("div",{className:"checkbox-group"},a.createElement("input",{className:"form-checkbox",id:"checkboxRememberMe",type:"checkbox",name:"_remember_me"}),a.createElement("div",{className:"checkbox-label-wrapper"},a.createElement("label",{htmlFor:"checkboxRememberMe",className:"form-label"},a.createElement("div",{className:"custom-checkbox",role:"checkbox","aria-labelledby":"checkbox-label"},a.createElement(i.n,null)),a.createElement("span",{id:"checkbox-label"},c("remember_me"))))),a.createElement("input",{type:"hidden",name:"_csrf_token",value:o}),a.createElement("div",{className:"submit-group"},a.createElement(O.O,{loading:m||g,additionalClass:"security-button bordeaux"},c("login"))))},L=(r(26699),r(32023),r(38862),r(88674),r(69070),r(72443),r(39341),r(73706),r(10408),r(78011),r(30489),r(89554),r(54747),r(68304),r(65069),r(96649),r(96078),r(9653),r(32568)),I=r(99287),C=r(65199);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(){A=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return n(i,"_invoke",{value:x(e,r,l)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function m(){}function d(){}function p(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(n,o,i,l){var s=u(e[n],e,o);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==T(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(f).then((function(e){c.value=e,i(c)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=E(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),s(g,l,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Z(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B=o.Ry({civility:o.Z_().required((0,j.t)("assert.notBlank.civility",{ns:"constraints"})).test("custom-validation",(0,j.t)("assert.choice",{ns:"constraints"}),(function(e){return[I.l.CIVILITY_F,I.l.CIVILITY_M].includes(e)})),firstName:o.Z_().max(200,(0,j.t)("assert.length.max",{ns:"constraints",max:200})).required((0,j.t)("assert.notBlank.firstName",{ns:"constraints"})),lastName:o.Z_().max(200,(0,j.t)("assert.length.max",{ns:"constraints",max:200})).required((0,j.t)("assert.notBlank.lastName",{ns:"constraints"})),email:o.Z_().email((0,j.t)("assert.email",{ns:"constraints"})).max(200,(0,j.t)("assert.length.max",{ns:"constraints",max:200})).required((0,j.t)("assert.notBlank.email",{ns:"constraints"})),plainPassword:o.Z_().min(6,(0,j.t)("assert.length.min",{ns:"constraints",min:6})).max(200,(0,j.t)("assert.length.max",{ns:"constraints",max:200})).required((0,j.t)("assert.notBlank.password",{ns:"constraints"})),passwordConfirm:o.Z_().required((0,j.t)("assert.notBlank.password_confirm",{ns:"constraints"})),agreeTerms:o.Xg().isTrue((0,j.t)("assert.checkbox.true",{ns:"constraints"}))}).required(),M={civility:null,firstName:"",lastName:"",email:"",plainPassword:"",passwordConfirm:""},G=function(e){var t,r,n,o,c,u,f,m=e.csrfToken,d=(0,v.$G)("messages").t,p=(0,a.useRef)(null),h=F((0,a.useState)(!1),2),y=h[0],g=h[1],b=(0,l.U)(B,M),w=b.register,x=b.handleSubmit,j=b.setError,S=b.errors,k=b.isSubmitting,N=b.control,_=function(){var e,t=(e=A().mark((function e(t){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:if(t.plainPassword===t.passwordConfirm){e.next=5;break}return j("passwordConfirm",{type:"custom",message:d("assert.not_same_passwords",{ns:"constraints"})}),e.abrupt("return");case 5:return e.prev=5,e.next=8,(0,L.SC)("/api/security/registration/uniqueEmailValidation",{method:"POST",body:JSON.stringify(t.email)});case 8:p.current.submit(),g(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),j("email",{type:"custom",message:d("assert.notUnique.email",{ns:"constraints"})});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Z(o,n,a,i,l,"next",e)}function l(e){Z(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return a.createElement("form",{ref:p,method:"post",action:d("url.security.register",{ns:"urls"}),onSubmit:x(_)},a.createElement("input",{type:"hidden",name:"type",value:"user"}),a.createElement(C.Q,{control:N,name:"civility",error:null===(t=S.civility)||void 0===t?void 0:t.message,choices:(r={},P(r,d(I.l.CIVILITY_M,{ns:"configs"}),I.l.CIVILITY_M),P(r,d(I.l.CIVILITY_F,{ns:"configs"}),I.l.CIVILITY_F),r),isRequiredField:!0}),a.createElement(s.n,{control:N,name:"firstName",error:null===(n=S.firstName)||void 0===n?void 0:n.message,additionalClass:"capitalize",maxLength:200},d("firstName")," *"),a.createElement(s.n,{control:N,name:"lastName",error:null===(o=S.lastName)||void 0===o?void 0:o.message,additionalClass:"capitalize",maxLength:200},d("lastName")," *"),a.createElement(s.n,{control:N,name:"email",error:null===(c=S.email)||void 0===c?void 0:c.message,maxLength:200},d("email_address")," *"),a.createElement(E,{control:N,name:"plainPassword",error:null===(u=S.plainPassword)||void 0===u?void 0:u.message,maxLength:200},d("password")," *"),a.createElement(E,{control:N,name:"passwordConfirm",error:null===(f=S.passwordConfirm)||void 0===f?void 0:f.message,maxLength:200},d("password_confirm")," *"),a.createElement("div",{className:"checkbox-group"+(S.agreeTerms?" is-invalid":"")},a.createElement("input",q({},w("agreeTerms"),{className:"form-checkbox",id:"checkboxRememberMe",type:"checkbox"})),a.createElement("div",{className:"checkbox-label-wrapper"},a.createElement("label",{htmlFor:"checkboxRememberMe",className:"form-label"},a.createElement("div",{className:"custom-checkbox",role:"checkbox","aria-labelledby":"checkbox-label"},a.createElement(i.n,null)),a.createElement("span",{id:"checkbox-label"},d("agree_terms_of_use")," *"))),S.agreeTerms&&a.createElement("div",{className:"form-error"},S.agreeTerms.message)),a.createElement("input",{type:"hidden",name:"_token",value:m}),a.createElement("div",{className:"submit-group"},a.createElement(O.O,{loading:y||k,additionalClass:"security-button bordeaux"},d("registration"))))},V=r(23437),R=r(24736),U=r(17333);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q.apply(this,arguments)}function z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(){X=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return n(i,"_invoke",{value:x(e,r,l)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function m(){}function d(){}function p(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(n,o,i,l){var s=u(e[n],e,o);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==Y(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(f).then((function(e){c.value=e,i(c)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=E(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),s(g,l,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function J(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K=o.Ry({civility:o.Z_().required((0,j.t)("assert.notBlank.civility",{ns:"constraints"})).test("custom-validation",(0,j.t)("assert.choice",{ns:"constraints"}),(function(e){return[I.l.CIVILITY_F,I.l.CIVILITY_M].includes(e)})),firstName:o.Z_().max(200,(0,j.t)("assert.length.max",{ns:"constraints",max:200})).required((0,j.t)("assert.notBlank.firstName",{ns:"constraints"})),lastName:o.Z_().max(200,(0,j.t)("assert.length.max",{ns:"constraints",max:200})).required((0,j.t)("assert.notBlank.lastName",{ns:"constraints"})),email:o.Z_().email((0,j.t)("assert.email",{ns:"constraints"})).max(200,(0,j.t)("assert.length.max",{ns:"constraints",max:200})).required((0,j.t)("assert.notBlank.email",{ns:"constraints"})),socialName:o.Z_().max(200,(0,j.t)("assert.length.max",{ns:"constraints",max:200})).required((0,j.t)("assert.notBlank.social_name",{ns:"constraints"})),identificationNumber:o.Z_().max(200,(0,j.t)("assert.length.max",{ns:"constraints",max:200})).required((0,j.t)("assert.notBlank.identification_number",{ns:"constraints"})),country:o.Z_().length(2,(0,j.t)("assert.choice_country",{ns:"constraints"})).required((0,j.t)("assert.choice_country",{ns:"constraints"})),vatNumber:o.Z_().max(200,(0,j.t)("assert.invalid",{ns:"constraints"})),plainPassword:o.Z_().min(6,(0,j.t)("assert.length.min",{ns:"constraints",min:6})).max(200,(0,j.t)("assert.length.max",{ns:"constraints",max:200})).required((0,j.t)("assert.notBlank.password",{ns:"constraints"})),passwordConfirm:o.Z_().required((0,j.t)("assert.notBlank.password_confirm",{ns:"constraints"})),agreeTerms:o.Xg().isTrue((0,j.t)("assert.checkbox.true",{ns:"constraints"}))}).required(),W={civility:null,firstName:"",lastName:"",email:"",socialName:"",identificationNumber:"",country:"",countryTrans:"",vatNumber:"",plainPassword:"",passwordConfirm:""},ee=function(e){var t,r,n,o,c,u,f,m,d,p,h,y=e.csrfToken,g=(0,v.$G)("messages").t,b=(0,a.useRef)(null),w=D((0,a.useState)(!1),2),x=w[0],j=w[1],S=(0,l.U)(K,W),k=S.register,N=S.handleSubmit,_=S.watch,T=S.setValue,q=S.setError,P=S.errors,A=S.isSubmitting,Z=S.control,F=function(){var e,t=(e=X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return");case 2:if(t.plainPassword===t.passwordConfirm){e.next=5;break}return q("passwordConfirm",{type:"custom",message:g("assert.not_same_passwords",{ns:"constraints"})}),e.abrupt("return");case 5:return e.prev=5,e.next=8,(0,L.SC)("/api/security/registration/uniqueEmailValidation",{method:"POST",body:JSON.stringify(t.email)});case 8:b.current.submit(),j(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),q("email",{type:"custom",message:g("assert.notUnique.email",{ns:"constraints"})});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){J(o,n,a,i,l,"next",e)}function l(e){J(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return a.createElement("form",{ref:b,method:"post",action:g("url.security.register",{ns:"urls"}),onSubmit:N(F)},a.createElement("input",{type:"hidden",name:"type",value:"pro"}),a.createElement(C.Q,{control:Z,name:"civility",error:null===(t=P.civility)||void 0===t?void 0:t.message,choices:(r={},z(r,g(I.l.CIVILITY_M,{ns:"configs"}),I.l.CIVILITY_M),z(r,g(I.l.CIVILITY_F,{ns:"configs"}),I.l.CIVILITY_F),r),isRequiredField:!0}),a.createElement(s.n,{control:Z,name:"firstName",error:null===(n=P.firstName)||void 0===n?void 0:n.message,additionalClass:"capitalize",maxLength:200},g("firstName")," *"),a.createElement(s.n,{control:Z,name:"lastName",error:null===(o=P.lastName)||void 0===o?void 0:o.message,additionalClass:"capitalize",maxLength:200},g("lastName")," *"),a.createElement(s.n,{control:Z,name:"socialName",error:null===(c=P.socialName)||void 0===c?void 0:c.message,maxLength:200},g("social_name")," *"),a.createElement(s.n,{control:Z,name:"identificationNumber",error:null===(u=P.identificationNumber)||void 0===u?void 0:u.message,maxLength:200},g("identification_number")," *"),a.createElement(V.n,{control:Z,name:"countryTrans",customHookFetcher:R.j,onSelect:function(e){T("country",e),T("countryTrans",g(e,{ns:"countries"})),P.country&&q("country",null)},error:null===(f=P.country)||void 0===f?void 0:f.message,maxLength:200,onChange:function(){T("country","")},render:function(e,t,r){return a.createElement(U.R,{key:e,country:e,selected:t,onSelect:r})}},g("country")," *"),a.createElement("input",{type:"hidden",name:"country",value:_("country")}),a.createElement(s.n,{control:Z,name:"vatNumber",error:null===(m=P.vatNumber)||void 0===m?void 0:m.message,maxLength:200},g("eu_vat_number")),a.createElement(s.n,{control:Z,name:"email",error:null===(d=P.email)||void 0===d?void 0:d.message,maxLength:200},g("email_address")," *"),a.createElement(E,{control:Z,name:"plainPassword",error:null===(p=P.plainPassword)||void 0===p?void 0:p.message,maxLength:200},g("password")," *"),a.createElement(E,{control:Z,name:"passwordConfirm",error:null===(h=P.passwordConfirm)||void 0===h?void 0:h.message,maxLength:200},g("password_confirm")," *"),a.createElement("div",{className:"checkbox-group"+(P.agreeTerms?" is-invalid":"")},a.createElement("input",Q({},k("agreeTerms"),{className:"form-checkbox",id:"checkboxRememberMe",type:"checkbox"})),a.createElement("div",{className:"checkbox-label-wrapper"},a.createElement("label",{htmlFor:"checkboxRememberMe",className:"form-label"},a.createElement("div",{className:"custom-checkbox",role:"checkbox","aria-labelledby":"checkbox-label"},a.createElement(i.n,null)),a.createElement("span",{id:"checkbox-label"},g("agree_terms_of_use")," *"))),P.agreeTerms&&a.createElement("div",{className:"form-error"},P.agreeTerms.message)),a.createElement("input",{type:"hidden",name:"_token",value:y}),a.createElement("div",{className:"submit-group"},a.createElement(O.O,{loading:x||A,additionalClass:"security-button bordeaux"},g("registration"))))};function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ne=function(e){var t=e.csrfToken,r=(0,v.$G)("messages").t,n=te((0,a.useState)("user"),2),o=n[0],i=n[1];return a.createElement("div",{className:"security-form register-form"},a.createElement("div",{className:"register-form-type-controls"},a.createElement("button",{type:"button",className:"register-form-type-control left"+("user"===o?" active":""),onClick:function(){return i("user")}},r("consumer")),a.createElement("button",{type:"button",className:"register-form-type-control right"+("pro"===o?" active":""),onClick:function(){return i("pro")}},r("company"))),"user"===o&&a.createElement(G,{csrfToken:t}),"pro"===o&&a.createElement(ee,{csrfToken:t}))};function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ie=function(e){var t=e.loginCsrfToken,r=e.registerCsrfToken,n=e.lastUsername,o=(0,v.$G)("messages").t,i=ae((0,a.useState)("login"),2),l=i[0],s=i[1];(0,a.useEffect)((function(){location.pathname===o("url.security.register",{ns:"urls"})&&s("register")}),[]);return a.createElement("div",{className:"security-form-wrapper"},a.createElement("h1",null,a.createElement("button",{type:"button",onClick:function(){"login"!==l&&(s("login"),history.replaceState({},"",location.href.replace(o("url.security.register",{ns:"urls"}),o("url.security.login",{ns:"urls"}))),document.title="Connexion")},className:"security-form-title-button"+("login"===l?" active":"")},o("login")),a.createElement("button",{type:"button",onClick:function(){"register"!==l&&(s("register"),history.replaceState({},"",location.href.replace(o("url.security.login",{ns:"urls"}),o("url.security.register",{ns:"urls"}))),document.title="Inscription")},className:"security-form-title-button"+("register"===l?" active":"")},o("registration"))),"register"===l&&a.createElement(ne,{csrfToken:r}),"login"===l&&a.createElement(_,{lastUsername:n,csrfToken:t}))};(0,r(48137).o)();var le=document.getElementById("security-form"),se=(0,n.s)(le),ce=le.dataset.lastusername?JSON.parse(le.dataset.lastusername):null;se.render(a.createElement(ie,{lastUsername:ce,loginCsrfToken:le.dataset.logincsrftoken,registerCsrfToken:le.dataset.registercsrftoken}))},48137:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});r(26699),r(32023);var n=r(99287),a=r(99734),o=function(){var e=window.location.pathname.split("/")[1];n.l.SUPPORTED_LOCALES.includes(e)&&a.Z.changeLanguage(e)}},31530:(e,t,r)=>{"use strict";var n=r(28710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},27007:(e,t,r)=>{"use strict";r(74916);var n=r(21470),a=r(98052),o=r(22261),i=r(47293),l=r(5112),s=r(68880),c=l("species"),u=RegExp.prototype;e.exports=function(e,t,r,f){var m=l(e),d=!i((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),p=d&&!i((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[m]=/./[m]),r.exec=function(){return t=!0,null},r[m](""),!t}));if(!d||!p||r){var h=n(/./[m]),v=t(m,""[e],(function(e,t,r,a,i){var l=n(e),s=t.exec;return s===o||s===u.exec?d&&!i?{done:!0,value:h(t,r,a)}:{done:!0,value:l(r,t,a)}:{done:!1}}));a(String.prototype,e,v[0]),a(u,m,v[1])}f&&s(u[m],"sham",!0)}},10647:(e,t,r)=>{var n=r(1702),a=r(47908),o=Math.floor,i=n("".charAt),l=n("".replace),s=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,f,m){var d=r+e.length,p=n.length,h=u;return void 0!==f&&(f=a(f),h=c),l(m,h,(function(a,l){var c;switch(i(l,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,r);case"'":return s(t,d);case"<":c=f[s(l,1,-1)];break;default:var u=+l;if(0===u)return a;if(u>p){var m=o(u/10);return 0===m?a:m<=p?void 0===n[m-1]?i(l,1):n[m-1]+i(l,1):a}c=n[u-1]}return void 0===c?"":c}))}},97651:(e,t,r)=>{var n=r(46916),a=r(19670),o=r(60614),i=r(84326),l=r(22261),s=TypeError;e.exports=function(e,t){var r=e.exec;if(o(r)){var c=n(r,e,t);return null!==c&&a(c),c}if("RegExp"===i(e))return n(l,e,t);throw s("RegExp#exec called on incompatible receiver")}},15306:(e,t,r)=>{"use strict";var n=r(22104),a=r(46916),o=r(1702),i=r(27007),l=r(47293),s=r(19670),c=r(60614),u=r(68554),f=r(19303),m=r(17466),d=r(41340),p=r(84488),h=r(31530),v=r(58173),y=r(10647),g=r(97651),b=r(5112)("replace"),w=Math.max,x=Math.min,E=o([].concat),O=o([].push),j=o("".indexOf),S=o("".slice),k="$0"==="a".replace(/./,"$0"),N=!!/./[b]&&""===/./[b]("a","$0");i("replace",(function(e,t,r){var o=N?"$":"$0";return[function(e,r){var n=p(this),o=u(e)?void 0:v(e,b);return o?a(o,e,n,r):a(t,d(n),e,r)},function(e,a){var i=s(this),l=d(e);if("string"==typeof a&&-1===j(a,o)&&-1===j(a,"$<")){var u=r(t,i,l,a);if(u.done)return u.value}var p=c(a);p||(a=d(a));var v=i.global;if(v){var b=i.unicode;i.lastIndex=0}for(var k=[];;){var N=g(i,l);if(null===N)break;if(O(k,N),!v)break;""===d(N[0])&&(i.lastIndex=h(l,m(i.lastIndex),b))}for(var _,L="",I=0,C=0;C<k.length;C++){for(var T=d((N=k[C])[0]),q=w(x(f(N.index),l.length),0),P=[],A=1;A<N.length;A++)O(P,void 0===(_=N[A])?_:String(_));var Z=N.groups;if(p){var F=E([T],P,q,l);void 0!==Z&&O(F,Z);var $=d(n(a,void 0,F))}else $=y(T,l,q,P,Z,a);q>=I&&(L+=S(l,I,q)+$,I=q+T.length)}return L+S(l,I)}]}),!!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!k||N)}},e=>{e.O(0,[9196,5917,7179,2781],(()=>{return t=96229,e(e.s=t);var t}));e.O()}]);